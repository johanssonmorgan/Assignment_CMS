@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>;
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;
@{
    var content = (ContentModels.ContactSection)Model.Content;

    var settings = Model.Settings as ContentModels.ContactSettings;
    var sectionColor = settings?.ContactBgColor?.Color ?? "#ffffff";

    var rootContent = Umbraco.ContentAtRoot();
    var siteSettings = rootContent.OfType<SiteSettings>().FirstOrDefault();

    var contactAddress = siteSettings?.ContactAddress;
    var contactPhone = siteSettings?.ContactPhone;
    var contactEmail = siteSettings?.ContactEmail;

    var contactImage = content.ContactImage;
}

<section style="background-color:@sectionColor">

    <div class="max-w-7xl mx-auto pt-[2.3rem] px-[2rem] grid grid-cols-1 md:grid-cols-2">

        <div class="order-2 md:order-1 hidden md:grid place-items-end bg-no-repeat
                md:[background-image:url('/images/Background-shape.svg'),url('/images/Background-dots.svg')]
                md:[background-position:right_bottom_-1px,right_3.8rem_bottom]">

            @if (contactImage != null)
            {
                <img src="@contactImage.Url()" alt="Contact Info" class="mr-[7rem]" />
            }
        </div>

        <div class="order-1 md:order-2">
            <div class="space-y-8 p-0 pb-[2.3rem] md:py-[6rem] lg:p-[8rem] w-full">

                @if (!string.IsNullOrWhiteSpace(content.ContactTitle))
                {
                    <h2 class="text-[1.5rem] md:text-[2.2rem] lg:text-[2.5rem] text-primary font-bold leading-tight">@content.ContactTitle</h2>
                }

                <address class="not-italic space-y-8">
                    @if (!string.IsNullOrWhiteSpace(contactAddress))
                    {
                        <div class="grid grid-cols-[1.5rem_auto]">
                            <i class="fa-solid fa-location-dot text-secondary text-base"></i>
                            <p class="font-semibold text-sm text-dark col-start-2">@content.ContactLocationLabel</p>
                            <p class="text-sm text-body-text col-start-2">@contactAddress</p>
                        </div>
                    }

                    @if (!string.IsNullOrWhiteSpace(contactPhone))
                    {
                        <div class="grid grid-cols-[1.5rem_auto]">
                            <i class="fa-solid fa-phone text-secondary text-base"></i>
                            <div class="col-start-2">
                                <p class="font-semibold text-sm text-dark col-start-2">@content.ContactPhoneLabel</p>
                                <p class="text-sm text-body-text col-start-2">
                                    <a href="tel:@contactPhone" class="hover:underline">@contactPhone</a>
                                </p>
                            </div>
                        </div>
                    }
                
                    @if (!string.IsNullOrWhiteSpace(contactEmail))
                    {
                        <div class="grid grid-cols-[1.5rem_auto]">
                            <i class="fa-solid fa-envelope text-secondary text-base"></i>
                            <div class="col-start-2">
                                <p class="font-semibold text-sm text-dark">@content.ContactEmailLabel</p>
                                <p class="text-sm text-body-text">
                                    <a href="mailto:@contactEmail" class="hover:underline">@contactEmail</a>
                                </p>
                            </div>
                        </div>
                    }
                </address>
            </div>
        </div>

    </div>
</section>