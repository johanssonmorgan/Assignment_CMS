@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>;
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;
@using Onatrix.ViewModels
@{
    var content = (ContentModels.EmailForm)Model.Content;
    var formViewModel = new EmailFormViewModel();
}

<div class="flex flex-col gap-4 px-5 py-4 bg-primary rounded bg-no-repeat
            [background-image:url('/images/email-form-bg.svg')]
            [background-position:right_bottom]">
    <h2 class="text-white text-[1.375rem] font-semibold">
        @content.EmailFormTitle
    </h2>
    <p class="text-neutral text-sm font-normal mb-4">@content.EmailFormDescription</p>

    <partial name="Partials/Forms/_EmailForm" model="formViewModel" />

    @if (TempData["EmailFormSuccess"] != null)
    {
        <div class="bg-green-50 text-green-700 p-4 rounded">
            @TempData["EmailFormSuccess"]
        </div>
    }
    else if (TempData["EmailFormError"] != null)
    {
        <div class="bg-red-50 text-red-700 p-4 rounded">
            @TempData["EmailFormError"]
        </div>
    }
</div>